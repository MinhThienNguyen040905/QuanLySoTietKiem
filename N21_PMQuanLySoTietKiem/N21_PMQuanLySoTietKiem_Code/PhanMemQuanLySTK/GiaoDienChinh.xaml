<UserControl x:Class="PhanMemQuanLySTK.GiaoDienChinh"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:gd_chinh="clr-namespace:PhanMemQuanLySTK.ViewModels"
             xmlns:local="clr-namespace:PhanMemQuanLySTK" xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
   TextElement.FontWeight="Regular"
     TextElement.FontSize="13"
     TextElement.Foreground="Black"
     TextOptions.TextFormattingMode="Ideal"
     TextOptions.TextRenderingMode="Auto"
     Language="vi-VN"
     Background="{DynamicResource MaterialDesignPaper}"
     FontFamily="{DynamicResource MaterialDesignFont}"    
        >

    <UserControl.DataContext>
        <gd_chinh:GiaoDienChinhViewModel />
    </UserControl.DataContext>

    <UserControl.Resources>
        <local:SoluongConverter_Lonhon0 x:Key="SoluongConverter_Lonhon0"/>
        <local:TwoTextsConverter x:Key="TwoTextsConverter"/>
        <local:Xacnhan_thongbaoNhom x:Key="Xacnhan_thongbaoNhom"/>
        <local:Xacnhan_thongbaoNhom_Dongy x:Key="Xacnhan_thongbaoNhom_Dongy"/>
        <local:Xacnhan_thongbaoNhom_khongDongy x:Key="Xacnhan_thongbaoNhom_khongDongy"/>
        <local:mota_Kyhan x:Key="mota_Kyhan"/>
        <local:mota_Laisuat x:Key="mota_Laisuat"/>
        <local:mota_Mota x:Key="mota_Mota"/>
        <local:TargetConverter x:Key="TargetConverter" />
        <local:Thutrongtuan x:Key="Thutrongtuan"/>
        <local:Chao x:Key="Chao"/>
        <local:Fullname_truongnhom x:Key="Fullname_truongnhom"/>
        <local:Username_truongnhom x:Key="Username_truongnhom"/>
        <local:Avatar_truongnhom x:Key="Avatar_truongnhom"/>
        <local:EmptyCollectionToVisibilityConverter x:Key="EmptyCollectionToVisibilityConverter" />
        <local:Soluong_thanhvien_khongphainhomtruong x:Key="Soluong_thanhvien_khongphainhomtruong"/>
        <local:ExcludeOwnerConverter x:Key="ExcludeOwnerConverter" />
        <local:Total_Money x:Key="Total_Money" />
        <local:NullOrEmptyToDefaultConverter x:Key="NullOrEmptyToDefaultConverter"/>
        <local:Group_Transaction_User x:Key="Group_Transaction_User"/>
        <local:XoaSo_Nhom x:Key="XoaSo_Nhom"></local:XoaSo_Nhom>


        <Storyboard x:Key="BorderLich_Enter">
            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="3 0 3 0" To="1 -2 1 -2" Duration="0:0:.05"/>
        </Storyboard>
        <Storyboard x:Key="BorderLich_Leave">
            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="1 -2 1 -2" To="3 0 3 0" Duration="0:0:.05"/>
        </Storyboard>

        <Storyboard x:Key="BorderExpanderAnimation_MouseEnter">
            <ThicknessAnimation Storyboard.TargetProperty="BorderThickness" From="1.2" To="2.5" Duration="0:0:.2" />
            <ColorAnimation Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" From="Gray" To="DarkGreen" Duration="0:0:.2" />
        </Storyboard>
        <Storyboard x:Key="BorderExpanderAnimation_MouseLeave">
            <ThicknessAnimation Storyboard.TargetProperty="BorderThickness" From="2.5" To="1.2" Duration="0:0:.3" />
            <ColorAnimation Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" From="DarkGreen" To="Gray" Duration="0:0:.3" />
        </Storyboard>

        <Storyboard x:Key="ButtonAnimation_MouseEnter">
            <DoubleAnimation Storyboard.TargetProperty="FontSize" From="16" To="18" Duration="0:0:0.1"/>
            <ColorAnimation Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" From="White" To="#FFADF3A4" Duration="0:0:.1" />
        </Storyboard>
        <Storyboard x:Key="ButtonAnimation_MouseLeave">
            <DoubleAnimation Storyboard.TargetProperty="FontSize" From="18" To="16" Duration="0:0:0.1"/>
            <ColorAnimation Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" From="#FFADF3A4" To="White" Duration="0:0:.1" />
        </Storyboard>

        <Style x:Key="DayBorderStyle" TargetType="Border">
            <Setter Property="Background" Value="LightGreen"/>
            <Setter Property="CornerRadius" Value="20"/>
            <Setter Property="Margin" Value="3 0 3 0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <!--#region So tiet kiem ca nhan-->
        <Style TargetType="DataGridRow" x:Key="ExpandableDataGridRow_Canhan">
            <Setter Property="Margin" Value="0 0 5 10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridRow">
                        <Border Background="White" x:Name="borer_datagrid" CornerRadius="10" BorderThickness="1.2" BorderBrush="Gray" MouseEnter="borer_datagrid_MouseEnter" MouseLeave="borer_datagrid_MouseLeave">
                            <Border.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard Storyboard="{StaticResource BorderExpanderAnimation_MouseEnter}"/>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <BeginStoryboard Storyboard="{StaticResource BorderExpanderAnimation_MouseLeave}"/>
                                </EventTrigger>
                            </Border.Triggers>

                            <Expander x:Name="expander" IsExpanded="False" Background="Transparent" Width="1070">
                                <Expander.Header>
                                    <Grid>
                                        <StackPanel Orientation="Horizontal" MouseEnter="StackPanel_MouseEnter" MouseLeave="StackPanel_MouseLeave">
                                            <Grid>
                                                <Label Content="{Binding Name}" FontWeight="Bold" HorizontalAlignment="Left" FontSize="20" x:Name="lb_tenSTK"/>
                                                <TextBox Visibility="Collapsed" Text="{Binding Name}" FontWeight="Bold" HorizontalAlignment="Left" FontSize="20" x:Name="tb_tenSTK" Margin="3 0 0 0" KeyDown="tb_tenSTK_KeyDown"/>
                                            </Grid>
                                            <Button x:Name="btn_rename" Visibility="Collapsed" Background="Transparent" BorderThickness="0" Margin="0 -4 0 0" Width="50" Height="28" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Click="btn_rename_Click">
                                                <materialDesign:PackIcon x:Name="ic_Rename" Kind="Rename" Margin="-10 0 0 0" Width="23" Height="23"/>
                                            </Button>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 6 0 0">
                                            <TextBlock Text="Số tiền: " FontSize="16"/>
                                            <TextBlock FontSize="16">
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="Foreground" Value="Black"/>
                                                        <Setter Property="Text" Value="{Binding Money, StringFormat=\{0:N0\} VNĐ}"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Money}" Value="0">
                                                                <Setter Property="Foreground" Value="Red"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                        </StackPanel>
                                    </Grid>
                                </Expander.Header>
                                <Expander.Content>
                                    <StackPanel MaxHeight="300" Margin="20 0 20 0">
                                        <StackPanel.Resources>
                                            <Style TargetType="StackPanel">
                                                <Setter Property="Margin" Value="0,5,0,0"/>
                                            </Style>
                                        </StackPanel.Resources>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Ngày tạo: " FontSize="16" FontWeight="Medium"/>
                                            <TextBlock Text="{Binding Creating_Date, StringFormat='{}{0:dd/MM/yyyy}'}" FontSize="16" FontWeight="Regular"/>
                                            <TextBlock FontSize="16" Margin="90 0 0 0" FontWeight="Regular">
                                              <Run Text="Kỳ hạn:" FontWeight="Medium"/>
                                              <Run Text="{Binding Interest_Rate.Term}"/>
                                              <Run Text="tháng"/>
                                            </TextBlock>
                                            <TextBlock Text="Lãi suất: " FontSize="16" Margin="90 0 0 0" FontWeight="Medium"/>
                                            <TextBlock FontSize="16" FontWeight="Regular">
                                              <Run Text="{Binding Interest_Rate.Rate}"/>
                                              <Run Text="%/năm"/>
                                            </TextBlock>
                                            <TextBlock Text="Mục tiêu: " FontSize="16" Margin="90 0 0 0" Cursor="Hand" FontWeight="Medium"/>
                                            <Grid Margin="-4 -4 0 0">
                                                <Label x:Name="lb_Muctieu" Content="{Binding Target,Converter={StaticResource TargetConverter}}"
                                                     FontSize="16" Cursor="Hand" MouseDoubleClick="lb_Muctieu_MouseDoubleClick" FontWeight="Regular"/>
                                                <TextBox x:Name="tb_Muctieu" Text="{Binding Target, Converter={StaticResource TargetConverter}}" 
                                                       FontSize="16" Visibility="Collapsed" KeyDown="tb_Muctieu_KeyDown" FontWeight="Regular"/>
                                            </Grid>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Mô tả: " FontSize="16" FontWeight="Medium"/>
                                            <Grid Margin="-4 -4 0 0">
                                                <Label x:Name="lb_Mota" Content="{Binding Description}" FontSize="16" Cursor="Hand" FontWeight="Regular" MouseDoubleClick="lb_Mota_MouseDoubleClick"/>
                                                <TextBox x:Name="tb_Mota" Text="{Binding Description}" FontSize="16" FontWeight="Regular" Visibility="Collapsed" KeyDown="tb_Mota_KeyDown"/>
                                            </Grid>
                                        </StackPanel>

                                        <Grid>
                                            <TextBlock Text="Lịch sử giao dịch:" FontWeight="Medium" FontSize="16" HorizontalAlignment="Left"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 0 20 0">
                                                <TextBlock Text="Tìm kiếm theo ngày:   " FontWeight="Medium" FontSize="16"/>
                                                <DatePicker
                                                   Language="vi-VN" SelectedDateChanged="DatePicker_SelectedDateChanged" FontWeight="Regular" FontSize="16" Width="110" materialDesign:HintAssist.Hint="Chọn ngày" Margin="0 -5 0 0">
                                                </DatePicker>
                                            </StackPanel>
                                        </Grid>

                                        <DataGrid Background="Transparent" Visibility="Visible" x:Name="myDataGrid" Grid.Row="1" Margin="10, 5, 10, 10" AutoGenerateColumns="False" CanUserAddRows="False"
                                                ItemsSource="{Binding Personal_Transactions_Information}" MaxHeight="167" CanUserDeleteRows="False" CanUserResizeColumns="False" CanUserResizeRows="False" IsReadOnly="True" ScrollViewer.CanContentScroll="False" VirtualizingStackPanel.IsVirtualizing="False" VirtualizingStackPanel.VirtualizationMode="Recycling" EnableRowVirtualization="False" EnableColumnVirtualization="False">
                                            <DataGrid.Resources>
                                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                    <Setter Property="Background" Value="#DEF0E0"/>
                                                    <Setter Property="Foreground" Value="Black"/>
                                                    <Setter Property="Height" Value="30"/>
                                                    <Setter Property="Padding" Value="15 0 0 0"/>
                                                </Style>
                                            </DataGrid.Resources>
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Thời gian" Binding="{Binding Transaction_Date}" Width="*" FontWeight="Regular">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                                <DataGridTextColumn Header="Biến động số tiền" FontWeight="Regular" Binding="{Binding Money, StringFormat='{}{0:+ #,##0;- #,##0;0} VNĐ'}" Width="*">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                                <DataGridTextColumn Header="Nội dung" Binding="{Binding Description}" Width="4*" FontWeight="Regular">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="TextWrapping" Value="Wrap" />
                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>

                                        <StackPanel Orientation="Horizontal" Margin="0 -2 0 0">
                                            <Button Content="Nạp tiền" CommandParameter="{Binding}"
                                  Click="btn_NapTien_Click" Style="{StaticResource MaterialDesignFlatMidBgButton}" Width="100" FontSize="16" 
                                                  Background="#FFADF3A4" BorderThickness="2" BorderBrush="White" Margin="0 0 5 5" FontWeight="Regular">
                                                <Button.Triggers>
                                                    <EventTrigger RoutedEvent="MouseEnter">
                                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseEnter}"/>
                                                    </EventTrigger>
                                                    <EventTrigger RoutedEvent="MouseLeave">
                                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseLeave}"/>
                                                    </EventTrigger>
                                                </Button.Triggers>
                                            </Button>

                                            <Button CommandParameter="{Binding}" 
Content="Rút tiền" Click="btn_RutTien_Click" Style="{StaticResource MaterialDesignFlatMidBgButton}" Width="100" FontSize="16" 
              Background="#FFADF3A4" BorderThickness="2" BorderBrush="White" Margin="0 0 5 5" FontWeight="Regular">
                                                <Button.Triggers>
                                                    <EventTrigger RoutedEvent="MouseEnter">
                                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseEnter}"/>
                                                    </EventTrigger>
                                                    <EventTrigger RoutedEvent="MouseLeave">
                                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseLeave}"/>
                                                    </EventTrigger>
                                                </Button.Triggers>
                                            </Button>

                                            <Button
CommandParameter="{Binding}" Content="Chuyển tiền" Click="btn_ChuyenTien_Click" Style="{StaticResource MaterialDesignFlatMidBgButton}" 
                                              Width="130" FontSize="16" 
            Background="#FFADF3A4" BorderThickness="2" BorderBrush="White" Margin="0 0 0 5" FontWeight="Regular">
                                                <Button.Triggers>
                                                    <EventTrigger RoutedEvent="MouseEnter">
                                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseEnter}"/>
                                                    </EventTrigger>
                                                    <EventTrigger RoutedEvent="MouseLeave">
                                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseLeave}"/>
                                                    </EventTrigger>
                                                </Button.Triggers>
                                            </Button>

                                            <Button Content="Xóa sổ tiết kiệm" Width="135" Height="28" Margin="10 -5 0 0"
                                                  Click="btn_xoaSoSTK_Click"
       IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" materialDesign:RippleAssist.Feedback="White" Foreground="OrangeRed" BorderBrush="OrangeRed">
                                                <Button.Style>
                                                    <Style BasedOn="{StaticResource MaterialDesignOutlinedButton}" TargetType="Button">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Money, Converter={StaticResource SoluongConverter_Lonhon0}}" Value="True">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding Money, Converter={StaticResource SoluongConverter_Lonhon0}}" Value="False">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </StackPanel>
                                    </StackPanel>
                                </Expander.Content>
                            </Expander>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!--#endregion-->

        <!--region danh sach thanh vien nhom-->
        <DataTemplate x:Key="Chip_DSthanhvien">
            <StackPanel Orientation="Horizontal">
                <materialDesign:Chip x:Name="chip_Thanhvien" BorderBrush="Black" BorderThickness=".5" FontSize="15" HorizontalContentAlignment="Left" Style="{StaticResource MaterialDesignOutlineChip}" Click="chip_Thanhvien_Click">
                    <materialDesign:Chip.Icon>
                        <Image Source="{Binding User.Avatar}"/>
                        <!--Them avatar-->
                    </materialDesign:Chip.Icon>
                    <materialDesign:Chip.Content>
                        <StackPanel Orientation="Horizontal" Margin="0 0 0 0">
                            <TextBlock x:Name="tbl_thanhvien_fullname" 
    Text="{Binding User.Fullname}" VerticalAlignment="Center" FontWeight="Medium"/>
                            <Label x:Name="lb_thanhvien_username" Margin="0 0 0 0" VerticalAlignment="Center">
                                <Label.Content>
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                        <TextBlock Text="(" VerticalAlignment="Center" FontWeight="Regular"/>
                                        <TextBlock Text="{Binding User.Username}" VerticalAlignment="Center" FontWeight="Regular"/>
                                        <TextBlock Text=")" VerticalAlignment="Center" FontWeight="Regular"/>
                                    </StackPanel>
                                </Label.Content>
                            </Label>
                        </StackPanel>
                    </materialDesign:Chip.Content>
                </materialDesign:Chip>
            </StackPanel>
        </DataTemplate>
        <!--#endregion-->

        <!--#region So tiet kiem nhom-->
        <Style TargetType="DataGridRow" x:Key="ExpandableDataGridRow_Nhom">
            <Setter Property="MaxWidth" Value="1400"/>
            <Setter Property="Margin" Value="0 0 5 10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridRow">
                        <Border Background="White" x:Name="borer_datagrid" Width="Auto" CornerRadius="10" BorderThickness="1.2" BorderBrush="Gray" MouseEnter="borer_datagrid_MouseEnter" MouseLeave="borer_datagrid_MouseLeave">
                            <Border.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard Storyboard="{StaticResource BorderExpanderAnimation_MouseEnter}"/>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <BeginStoryboard Storyboard="{StaticResource BorderExpanderAnimation_MouseLeave}"/>
                                </EventTrigger>
                            </Border.Triggers>
                            
                            <Expander x:Name="expander" IsExpanded="False" Background="Transparent" Width="1070">
                                <Expander.Header>
                                    <Grid>
                                        <StackPanel Orientation="Horizontal" MouseEnter="StackPanel_MouseEnter_Nhom" MouseLeave="StackPanel_MouseLeave_Nhom">
                                            <Grid>
                                                <Label Content="{Binding Name}" FontWeight="Bold" HorizontalAlignment="Left" FontSize="20" x:Name="lb_tenSTK_nhom"/>
                                                <TextBox Visibility="Collapsed" Text="{Binding Name}" FontWeight="Bold" HorizontalAlignment="Left" FontSize="20" x:Name="tb_tenSTK_nhom" Margin="3 0 0 0" KeyDown="tb_tenSTK_Nhom_KeyDown"/>
                                            </Grid>
                                            <Button x:Name="btn_rename_nhom" Visibility="Collapsed" Background="Transparent" BorderThickness="0" Margin="0 -4 0 0" Width="50" Height="28" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Click="btn_rename_Nhom_Click">
                                                <materialDesign:PackIcon x:Name="ic_Rename" Kind="Rename" Margin="-10 0 0 0" Width="23" Height="23"/>
                                            </Button>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 6 0 0">
                                            <TextBlock Text="Số tiền: " FontSize="16"/>
                                            <TextBlock FontSize="16">
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="Foreground" Value="Black"/>
                                                        <Setter Property="Text" Value="{Binding Money, StringFormat=\{0:N0\} VNĐ}"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Money}" Value="0">
                                                                <Setter Property="Foreground" Value="Red"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                        </StackPanel>
                                    </Grid>
                                </Expander.Header>
                                <Expander.Content>
                                    <StackPanel MaxHeight="450" Margin="20 0 20 0">
                                        <StackPanel.Resources>
                                            <Style TargetType="StackPanel">
                                                <Setter Property="Margin" Value="0,5,0,0"/>
                                            </Style>
                                        </StackPanel.Resources>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Ngày tạo: " FontSize="16" FontWeight="Medium"/>
                                            <TextBlock Text="{Binding Creating_Date, StringFormat='{}{0:dd/MM/yyyy}'}" FontSize="16" FontWeight="Regular"/>
                                            <TextBlock FontSize="16" Margin="90 0 0 0">
                                                <Run Text="Kỳ hạn:" FontWeight="Medium"/>
                                                <Run Text="{Binding Interest_Rates.Term}" FontWeight="Regular"/>
                                                <Run Text="tháng" FontWeight="Regular"/>
                                            </TextBlock>
                                            <TextBlock Text="Lãi suất: " FontSize="16" Margin="90 0 0 0" FontWeight="Medium"/>
                                            <TextBlock Text="{Binding Interest_Rates.Rate}" FontSize="16" FontWeight="Regular"/>
                                            <TextBlock Text="%/năm" FontSize="16" FontWeight="Regular"/>
                                            <TextBlock Text="Mục tiêu: " FontSize="16" Margin="90 0 0 0" Cursor="Hand" FontWeight="Medium"/>
                                            <Grid Margin="-4 -4 0 0">
                                                <Label x:Name="lb_Muctieu_Nhom" Content="{Binding Target,Converter={StaticResource TargetConverter}}"
           FontSize="16" Cursor="Hand" MouseDoubleClick="lb_Muctieu_Nhom_MouseDoubleClick" FontWeight="Regular"/>
                                                <TextBox x:Name="tb_Muctieu_Nhom" Text="{Binding Target, Converter={StaticResource TargetConverter}}" 
             FontSize="16" Visibility="Collapsed" KeyDown="tb_Muctieu_Nhom_KeyDown" FontWeight="Regular"/>

                                                
                                            </Grid>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0 -2 0 0">
                                            <TextBlock Text="Nhóm trưởng: " FontSize="16" VerticalAlignment="Center" Margin="0 0 0 0" FontWeight="Medium"/>
                                            <StackPanel VerticalAlignment="Center">
                                                <materialDesign:Chip x:Name="chip_TrgNhom" BorderBrush="Black" FontSize="15" HorizontalContentAlignment="Left" Style="{StaticResource MaterialDesignOutlineChip}" Click="chip_TrgNhom_Click">
                                                    <materialDesign:Chip.Icon>
                                                        <Image Source="{Binding Group_Details, Converter={StaticResource Avatar_truongnhom}}"/>
                                                        <!--Them avatar-->
                                                    </materialDesign:Chip.Icon>
                                                    <materialDesign:Chip.Content>
                                                        <StackPanel Orientation="Horizontal" Margin="0 0 0 0">
                                                            <TextBlock x:Name="tbl_TrgNhom_Fullname" Text="{Binding Group_Details, Converter={StaticResource Fullname_truongnhom}}" FontWeight="Medium" VerticalAlignment="Center" Margin="0 0 0 0"/>
                                                            <Label x:Name="lb_TrgNhom_Username" Margin="0 -5 0 0" VerticalAlignment="Center">
                                                                <Label.Content>
                                                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                                        <TextBlock Text="(" VerticalAlignment="Center" FontWeight="Regular"/>
                                                                        <TextBlock Text="{Binding Group_Details, Converter={StaticResource Username_truongnhom}}" VerticalAlignment="Center" FontWeight="Regular"/>
                                                                        <TextBlock Text=")" VerticalAlignment="Center" FontWeight="Regular"/>
                                                                    </StackPanel>
                                                                </Label.Content>
                                                            </Label>
                                                        </StackPanel>
                                                    </materialDesign:Chip.Content>
                                                </materialDesign:Chip>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0 -3 0 0">
                                            <TextBlock Text="{Binding Group_Details, Converter={StaticResource Soluong_thanhvien_khongphainhomtruong}, StringFormat=Thành viên khác: ({0})}" FontSize="16" VerticalAlignment="Center" FontWeight="Medium"/>
                                            <StackPanel Orientation="Horizontal" Margin="0 0 0 0">
                                                <RepeatButton x:Name="rbtn_left" Height="40" Background="Transparent" BorderBrush="Transparent" BorderThickness="0" Width="50" Delay="0" Interval="70" Click="ScrollLeft_Click">
                                                    <RepeatButton.Content>
                                                        <materialDesign:PackIcon Kind="ChevronDoubleLeft" Width="30" Height="30" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </RepeatButton.Content>
                                                </RepeatButton>
                                                <ScrollViewer Margin="0 0 0 0" x:Name="scrollViewer" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden" Width="780" HorizontalAlignment="Left">
                                                    <ItemsControl x:Name="item_DSthanhvien"
              ItemsSource="{Binding Group_Details, Converter={StaticResource ExcludeOwnerConverter}}" 
              ScrollViewer.CanContentScroll="True" 
              ScrollViewer.HorizontalScrollBarVisibility="Auto" 
              ItemTemplate="{DynamicResource Chip_DSthanhvien}">
                                                        <ItemsControl.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <StackPanel Orientation="Horizontal" />
                                                            </ItemsPanelTemplate>
                                                        </ItemsControl.ItemsPanel>

                                                        <!-- Thêm Template để hiển thị khi danh sách trống -->
                                                        <ItemsControl.Template>
                                                            <ControlTemplate TargetType="ItemsControl">
                                                                <Grid>
                                                                    <!-- Hiển thị Items nếu có -->
                                                                    <ItemsPresenter />

                                                                    <!-- Hiển thị thông báo khi trống -->
                                                                    <TextBlock Text="Thành viên trống" FontWeight="Regular"
                           HorizontalAlignment="Center" 
                      VerticalAlignment="Center"
                           FontStyle="Italic" 
                           Foreground="Gray" 
                             FontSize="18"                                                  
                           Visibility="{Binding Items, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource EmptyCollectionToVisibilityConverter}}" />
                                                                </Grid>
                                                            </ControlTemplate>
                                                        </ItemsControl.Template>
                                                    </ItemsControl>
                                                </ScrollViewer>
                                                <RepeatButton x:Name="rbtn_right" Height="40" Background="Transparent" BorderBrush="Transparent" BorderThickness="0" Width="50" Delay="0" Interval="70" Click="ScrollRight_Click">
                                                    <RepeatButton.Content>
                                                        <materialDesign:PackIcon Kind="ChevronDoubleRight" Width="30" Height="30" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </RepeatButton.Content>
                                                </RepeatButton>
                                            </StackPanel>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Mô tả: " FontSize="16" FontWeight="Medium"/>
                                            <Grid Margin="-2 -4 0 0">
                                                <TextBox x:Name="tb_Mota_Nhom" FontWeight="Regular" Visibility="Collapsed" Text="{Binding Description}" FontSize="16" Margin="3 0 0 0" KeyDown="tb_Mota_Nhom_KeyDown"/>
                                                <Label x:Name="lb_Mota_Nhom" Content="{Binding Description}" FontWeight="Regular" FontSize="16" Cursor="Hand" MouseDoubleClick="lb_Mota_Nhom_MouseDoubleClick"/>
                                            </Grid>
                                        </StackPanel>


                                        <Grid>
                                            <TextBlock Text="Lịch sử giao dịch:" FontSize="16" HorizontalAlignment="Left" FontWeight="Medium"/>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                <materialDesign:PopupBox PlacementMode="BottomAndAlignRightEdges" Margin="0 -5 0 0" materialDesign:RippleAssist.Feedback="White" materialDesign:HintAssist.Foreground="White" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" StaysOpen="True">
                                                    <Grid>
                                                        <StackPanel Orientation="Vertical">
                                                            <TextBlock Text="TÌM KIẾM LỊCH SỬ GIAO DỊCH" HorizontalAlignment="Center" Margin="0 -3 0 10" FontWeight="Black" FontSize="20"/>
                                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 0 20 0">
                                                                <TextBlock Text="Tìm kiếm theo ngày:   " FontSize="16" FontWeight="Medium"/>
                                                                <DatePicker SelectedDate="{x:Null}" x:Name="datepicker" Language="vi-VN" FontSize="16" Width="110" FontWeight="Regular" materialDesign:HintAssist.Hint="Chọn ngày" Margin="0 -5 0 0">
                                                                </DatePicker>
                                                            </StackPanel>
                                                            <Grid>
                                                                <TextBlock Text="Thành viên:" FontSize="16" Margin="10 5 0 0" FontWeight="Medium" HorizontalAlignment="Left"/>
                                                                <Button x:Name="btn_Datlai" Visibility="Collapsed" Command="{x:Static materialDesign:PopupBox.ClosePopupCommand}" Height="30" Background="Transparent" BorderBrush="Transparent" materialDesign:RippleAssist.Feedback="Transparent" Style="{StaticResource MaterialDesignFlatMidBgButton}" VerticalContentAlignment="Top" Cursor="Hand" Foreground="DarkBlue" HorizontalAlignment="Right" Margin="0 -5 5 0" FontSize="16" FontWeight="Regular" Click="btn_Datlai_Click">
                                                                    <Button.Content>
                                                                        <StackPanel Orientation="Horizontal">
                                                                            <materialDesign:PackIcon Kind="Autorenew" Margin="0 1 2 0"/>
                                                                            <TextBlock Text="Đặt lại" MouseEnter="tbl_MouseEnter" MouseLeave="tbl_MouseLeave"/>
                                                                        </StackPanel>
                                                                    </Button.Content>
                                                                </Button>
                                                            </Grid>
                                                            <ScrollViewer HorizontalScrollBarVisibility="Auto" Margin="0 0 0 0" VerticalScrollBarVisibility="Auto" MaxHeight="180">
                                                                <ItemsControl x:Name="itemcontrol" ItemsSource="{Binding Group_Details}" Margin="5 0 0 0" Width="300">
                                                                    <ItemsControl.ItemTemplate>
                                                                        <DataTemplate>
                                                                            <Border BorderThickness="0 0 0 .2" BorderBrush="Black">
                                                                                <CheckBox x:Name="checkbox" VerticalAlignment="Center" FontSize="16" Width="295" Margin="5" IsChecked="False">
                                                                                    <CheckBox.Content>
                                                                                        <TextBlock TextWrapping="Wrap">
                                 <Run Text="{Binding User.Fullname}" />
                                 <Run Text="{Binding Username, StringFormat='({0})'}" />
                                                                                        </TextBlock>
                                                                                    </CheckBox.Content>
                                                                                </CheckBox>
                                                                            </Border>
                                                                        </DataTemplate>
                                                                    </ItemsControl.ItemTemplate>
                                                                </ItemsControl>
                                                            </ScrollViewer>
                                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 0 0 -8">
                                                                <Button x:Name="btn_Huy" Width="70" Height="30" Command="{x:Static materialDesign:PopupBox.ClosePopupCommand}" Margin="8 13 0 8" BorderBrush="Transparent" Foreground="Black" Background="Transparent" materialDesign:RippleAssist.Feedback="LightGreen" Style="{StaticResource MaterialDesignFlatMidBgButton}" FontSize="16" FontWeight="Medium" Click="btn_Huy_Click">
                                                                    <Button.Content>
                                                                        <TextBlock Text="Hủy" MouseEnter="tbl_MouseEnter" MouseLeave="tbl_MouseLeave"/>
                                                                    </Button.Content>
                                                                </Button>
                                                                <Button x:Name="btn_Timkiem" Content="Tìm kiếm" Width="100" Height="30" Command="{x:Static materialDesign:PopupBox.ClosePopupCommand}" Margin="0 13 8 8" BorderBrush="DarkGreen" Foreground="DarkGreen" Background="Transparent" Style="{StaticResource MaterialDesignOutlinedButton}" FontSize="16" FontWeight="Medium" Click="btn_Timkiem_Click"/>
                                                            </StackPanel>
                                                        </StackPanel>
                                                    </Grid>
                                                </materialDesign:PopupBox>
                                            </StackPanel>
                                        </Grid>

                                        <DataGrid Background="Transparent" HorizontalScrollBarVisibility="Hidden" Visibility="Visible" x:Name="myDataGrid" Grid.Row="1" Margin="10, 5, 10, 10" AutoGenerateColumns="False" CanUserAddRows="False" ItemsSource="{Binding Group_Transactions_Information}" MaxHeight="167" CanUserDeleteRows="False" CanUserResizeColumns="False" CanUserResizeRows="False" IsReadOnly="True" ScrollViewer.CanContentScroll="False" VirtualizingStackPanel.IsVirtualizing="False" VirtualizingStackPanel.VirtualizationMode="Recycling" EnableRowVirtualization="False" EnableColumnVirtualization="False">
                                            <DataGrid.Resources>
                                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                    <Setter Property="Background" Value="#DEF0E0"/>
                                                    <Setter Property="Foreground" Value="Black"/>
                                                    <Setter Property="Height" Value="30"/>
                                                    <Setter Property="Padding" Value="15 0 0 0"/>
                                                </Style>
                                            </DataGrid.Resources>
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Thời gian" Binding="{Binding Transaction_Date}" Width="1.1*" FontWeight="Regular">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                                <DataGridTemplateColumn Header="Người thực hiện" Width="1.5*">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <StackPanel Orientation="Vertical">
                                                                <TextBlock Text="{Binding User, Converter={StaticResource Group_Transaction_User}}" FontWeight="Regular" />
                                                                <StackPanel Orientation="Horizontal">
                                                                    <!--Chinh sua lich su dao han-->
                                                                    <StackPanel.Style>
                                                                        <Style TargetType="StackPanel">
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Username}" Value="{x:Null}">
                                                                                    <Setter Property="Visibility" Value="Collapsed"></Setter>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </StackPanel.Style>
                                                                    <TextBlock Text="(" FontWeight="Regular"/>
                                                                    <TextBlock Text="{Binding Username}" FontWeight="Regular" />
                                                                    <TextBlock Text=")" FontWeight="Regular"/>
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>

                                                <DataGridTextColumn Header="Biến động số tiền" Binding="{Binding Money, StringFormat='{}{0:+ #,##0;- #,##0;0} VNĐ'}" Width="*" FontWeight="Regular">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                                <DataGridTextColumn Header="Nội dung" Binding="{Binding Description}" Width="3*" FontWeight="Regular">
                                                    <DataGridTextColumn.ElementStyle>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="TextWrapping" Value="Wrap"/>
                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                        </Style>
                                                    </DataGridTextColumn.ElementStyle>
                                                </DataGridTextColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>

                                        <Grid Margin="0 -5 0 0">
                                            <StackPanel Orientation="Horizontal" Margin="0 -2 0 0">
                                                <Button Content="Nạp tiền" CommandParameter="{Binding}"
                                                        Click="tb_Naptien_Nhom_Click"
                           Style="{StaticResource MaterialDesignFlatMidBgButton}" Width="100" FontSize="16" 
                                                  Background="#FFADF3A4" BorderThickness="2" BorderBrush="White" Margin="0 0 5 5" FontWeight="Regular">
                                                    <Button.Triggers>
                                                        <EventTrigger RoutedEvent="MouseEnter">
                                                            <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseEnter}"/>
                                                        </EventTrigger>
                                                        <EventTrigger RoutedEvent="MouseLeave">
                                                            <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseLeave}"/>
                                                        </EventTrigger>
                                                    </Button.Triggers>
                                                </Button>

                                                <Button CommandParameter="{Binding}" 
                Click="bt_Ruttien_Nhom_Click"
Content="Rút tiền"  Style="{StaticResource MaterialDesignFlatMidBgButton}" Width="100" FontSize="16" 
              Background="#FFADF3A4" BorderThickness="2" BorderBrush="White" Margin="0 0 5 5" FontWeight="Regular">
                                                    <Button.Triggers>
                                                        <EventTrigger RoutedEvent="MouseEnter">
                                                            <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseEnter}"/>
                                                        </EventTrigger>
                                                        <EventTrigger RoutedEvent="MouseLeave">
                                                            <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseLeave}"/>
                                                        </EventTrigger>
                                                    </Button.Triggers>
                                                </Button>
                                                <Button Content="Xóa sổ tiết kiệm" DataContext="{Binding}"  CommandParameter="{Binding}" x:Name="bt_Xoaso_Nhom" Click="bt_Xoaso_Nhom_Click"  Tag="{Binding Saving_ID}"  Width="135" Height="28" Margin="15 -5 0 0" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" materialDesign:RippleAssist.Feedback="White" Foreground="OrangeRed" BorderBrush="OrangeRed">
                                                    <Button.Visibility>
                                                        <MultiBinding Converter="{StaticResource XoaSo_Nhom}">
                                                            <!-- Binding danh sách Group_Details -->
                                                            <Binding Path="Money" />
                                                            <!-- Binding Username từ DataContext của phần tử bao quanh (UserControl) -->
                                                            <Binding Path="Group_Details"  />
                                                            <Binding Path="DataContext.Username" RelativeSource="{RelativeSource AncestorType=UserControl}"/>
                                                        </MultiBinding>
                                                    </Button.Visibility>

                                                    <Button.Style>
                                                        <Style BasedOn="{StaticResource MaterialDesignOutlinedButton}" TargetType="Button">
                                                            <Style.Triggers>

                                                                <DataTrigger Binding="{Binding Money, Converter={StaticResource SoluongConverter_Lonhon0}}" Value="false">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </StackPanel>
                                            <Label HorizontalAlignment="Right" Margin="0 0 10 0">
                                                <Label.Content>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="Số tiền đóng góp của bạn: " FontSize="16"/>
                                                        <TextBlock FontSize="16" FontWeight="Medium" Language="vi-VN" DataContext="{Binding}"   >
                                                            <TextBlock.Text  >

                                                                <MultiBinding StringFormat='{}{0:N0} VNĐ' Converter="{StaticResource Total_Money}">
                                                                    <Binding Path="Group_Details" />
                                                                    <Binding Path="DataContext.Username" RelativeSource="{RelativeSource AncestorType=UserControl}"  />
                                                                </MultiBinding>
                                                            </TextBlock.Text>
                                                        </TextBlock>
                                                        <!--số tiền đóng góp-->
                                                    </StackPanel>
                                                </Label.Content>
                                            </Label>
                                        </Grid>
                                    </StackPanel>
                                </Expander.Content>
                            </Expander>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!--#endregion-->

        <!--region Custum tabItem-->
        <Style x:Name="TabItemStyle" TargetType="TabItem">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="MinHeight" Value="50"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Grid>
                            <Border x:Name="Border"
                    Background="#fbf9f8" 
                    BorderThickness="0" 
                    Margin="-1"
                    CornerRadius="0">
                                <ContentPresenter Content="{TemplateBinding Header}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Opacity" TargetName="Border" Value="1"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="False">
                                <Setter Property="Opacity" TargetName="Border" Value=".9"/>
                                <Setter Property="FontWeight" Value="Medium"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--#endregion-->

        <!--region Thong bao ca nhan-->
        <Style TargetType="DataGridRow" x:Key="dataGrid_thongbao">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridRow">
                        <Border x:Name="bd_thongbao" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_MouseEnter" MouseLeave="bd_thongbao_MouseLeave" MouseLeftButtonDown="bd_thongbao_MouseLeftButtonDown">
                            <Border.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Thoigian_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Tu_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Noidung" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Noidung_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>

                                <EventTrigger RoutedEvent="MouseLeave">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Thoigian_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Tu_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Noidung" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                            <DoubleAnimation Storyboard.TargetName="Noidung_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Border.Triggers>

                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Is_Read}" Value="false">
                                            <Setter Property="Background" Value="White" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Is_Read}" Value="true">
                                            <Setter Property="Background" Value="#F3F3F3" />
                                        </DataTrigger>
                                        <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>

                                        <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>

                            <StackPanel Orientation="Vertical">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Is_Read}" Value="true">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Is_Read}" Value="false">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <TextBlock x:Name="header" Text="Sổ tiết kiệm đến ngày đáo hạn" FontSize="18" Margin="5" FontWeight="Bold"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="5 0 0 0">
                                    <TextBlock x:Name="Thoigian" Text="Thời gian: " FontSize="14" FontStyle="Italic" FontWeight="Medium"/>
                                    <TextBlock x:Name="Thoigian_Binding" Text="{Binding Notification_Date}" FontSize="14" FontWeight="Regular"/>
                                </StackPanel>
                                <Grid>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock x:Name="Tu" Text="Từ: " FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left" FontStyle="Italic" FontWeight="Medium"/>
                                        <TextBlock x:Name="Tu_Binding" Text="{Binding Personal_Savings_Account.Name}" FontSize="14" HorizontalAlignment="Left" FontWeight="Regular"/>
                                    </StackPanel>
                                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" Margin="0 5 5 0" FontSize="13" FontWeight="Regular" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown_CaNhan">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="TextDecorations" Value="Underline"/>
                                                        <Setter Property="Cursor" Value="Hand"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </Grid>
                                <StackPanel x:Name="stp_noidung" Orientation="Horizontal" Margin="5 5 0 0" Visibility="Collapsed">
                                    <TextBlock x:Name="Noidung" Text="Số tiền lãi nhận được:" FontSize="14" FontStyle="Italic" FontWeight="Medium"/>
                                    <Label x:Name="Noidung_Binding" Width="230" FontSize="14">
                                        <Label.Content>
                                            <StackPanel Orientation="Horizontal" Margin="0 -4 0 0">
                                                <TextBlock Text="{Binding Money_Rate}" FontWeight="Black"/>
                                                <TextBlock Text=" VNĐ" FontWeight="Black"/>
                                            </StackPanel>
                                        </Label.Content>
                                    </Label>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!--#endregion-->

        <!-- #region Thong bao nhom -->
        <!-- #region Nap-->
        <ControlTemplate x:Key="BorderThongbao_Nhom_Nap" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Sotien" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Sotien" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Nạp tiền vào sổ tiết kiệm" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
                <Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <TextBlock x:Name="Tu" FontSize="14" Margin="5 0 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                <Run Text="Từ:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                    </TextBlock>

                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="Nguoigui" Text="Người gửi: " FontStyle="Italic" FontWeight="Medium" FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left"/>
                            <TextBlock x:Name="Nguoigui_Binding" FontSize="14" FontWeight="Regular" Width="218" TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <MultiBinding Converter="{StaticResource TwoTextsConverter}">
                                        <Binding Path="Group_Notifications.User_Sender.Fullname" />
                                        <Binding Path="Group_Notifications.User_Sender.Username" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <TextBlock x:Name="Sotien" FontWeight="Regular" FontSize="14" Margin="5 3 3 0">
                    <Run Text="Biến động số dư:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Money, StringFormat='{}{0: +#,##0; -#,##0;0} VNĐ'}" FontWeight="Black" Foreground="DarkGreen"/>
                        </TextBlock>
                        <TextBlock x:Name="Mota" FontSize="14" FontWeight="Regular" Margin="5 5 0 0" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                    <Run Text="Ghi chú:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Description, Converter={StaticResource NullOrEmptyToDefaultConverter}}" />
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!--  #endregion -->

        <!-- region Rut -->
        <ControlTemplate x:Key="BorderThongbao_Nhom_Rut" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Sotien" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Sotien" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                            <Setter Property="Visibility" Value="Visible" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Rút tiền từ sổ tiết kiệm" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
                <Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <TextBlock x:Name="Tu" FontSize="14" Margin="5 0 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                <Run Text="Từ:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                    </TextBlock>

                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="Nguoigui" Text="Người gửi: " FontStyle="Italic" FontWeight="Medium" FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left"/>
                            <TextBlock x:Name="Nguoigui_Binding" FontSize="14" FontWeight="Regular" Width="218" TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <MultiBinding Converter="{StaticResource TwoTextsConverter}">
                                        <Binding Path="Group_Notifications.User_Sender.Fullname" />
                                        <Binding Path="Group_Notifications.User_Sender.Username" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <TextBlock x:Name="Sotien" FontWeight="Regular" FontSize="14" Margin="5 3 3 0">
                    <Run Text="Biến động số dư:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Money, StringFormat='{}{0: +#,##0; -#,##0;0} VNĐ'}" FontWeight="Black" Foreground="DarkRed"/>
                        </TextBlock>
                        <TextBlock x:Name="Mota" FontSize="14" FontWeight="Regular" Margin="5 5 0 0" HorizontalAlignment="Left" TextWrapping="Wrap" Width="295">
                    <Run Text="Lý do:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Description, Converter={StaticResource NullOrEmptyToDefaultConverter}}" />
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!-- #endregion-->

        <!-- region Rut - yeu cau-->
        <ControlTemplate x:Key="BorderThongbao_Nhom_RutYC" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Sotien" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Sotien" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa trả lời">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom}}" Value="true">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom}}" Value="true">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa trả lời">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Xin rút tiền từ sổ tiết kiệm" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
                <Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <TextBlock x:Name="Tu" FontSize="14" Margin="5 0 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                <Run Text="Từ:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                    </TextBlock>

                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="Nguoigui" Text="Người gửi: " FontStyle="Italic" FontWeight="Medium" FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left"/>
                            <TextBlock x:Name="Nguoigui_Binding" FontSize="14" FontWeight="Regular" Width="218" TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <MultiBinding Converter="{StaticResource TwoTextsConverter}">
                                        <Binding Path="Group_Notifications.User_Sender.Fullname" />
                                        <Binding Path="Group_Notifications.User_Sender.Username" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <TextBlock x:Name="Sotien" FontWeight="Regular" FontSize="14" Margin="5 3 3 0">
                    <Run Text="Số tiền:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Money, StringFormat='{}{0:N0} VNĐ'}" FontWeight="Black"/>
                        </TextBlock>
                        <TextBlock x:Name="Mota" FontSize="14" FontWeight="Regular" Margin="5 5 0 0" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                    <Run Text="Lý do:" FontStyle="Italic" FontWeight="Medium"/>
                     <Run Text="{Binding Group_Notifications.Description, Converter={StaticResource NullOrEmptyToDefaultConverter}}" />
                        </TextBlock>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 4 0 0">
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa trả lời">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom}}" Value="true">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Button Width="118" Content="Không đồng ý" Height="26" Foreground="IndianRed" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Style="{StaticResource MaterialDesignFlatLightButton}" Click="Button_Click_1"/>
                            <Button x:Name="btn_Dongy" Content="Đồng ý" Style="{StaticResource MaterialDesignFlatMidBgButton}" Height="30" Width="100" FontSize="16" Background="#FFADF3A4" BorderBrush="White" BorderThickness="2" Margin="5 0 5 0" FontWeight="Regular" Click="btn_Dongy_Click">
                                <Button.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseEnter}"/>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="MouseLeave">
                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseLeave}"/>
                                    </EventTrigger>
                                </Button.Triggers>
                            </Button>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 4 0 0" Background="Transparent">
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom_Dongy}}" Value="false">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đồng ý">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Label x:Name="tbl_daDongy" FontSize="14" FontWeight="Medium" Foreground="DarkGreen" Background="Transparent" Margin="0 0 5 0">
                                <Label.Content>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="CheckOutline" />
                                        <TextBlock Text=" Đã đồng ý"/>
                                    </StackPanel>
                                </Label.Content>
                            </Label>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 4 0 0" Background="Transparent">
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom_khongDongy}}" Value="false">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Không đồng ý">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Label x:Name="tbl_khongDongy" FontSize="14" FontWeight="Medium" Foreground="DarkRed" Background="Transparent" Margin="0 0 5 0">
                                <Label.Content>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="CloseOutline" />
                                        <TextBlock Text=" Đã không đồng ý"/>
                                    </StackPanel>
                                </Label.Content>
                            </Label>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!-- #endregion -->

        <!-- region Rut - phan hoi -->
        <ControlTemplate x:Key="BorderThongbao_Nhom_RutPH" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Trả lời yêu cầu xin rút tiền" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
                <Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <TextBlock x:Name="Tu" FontSize="14" Margin="5 0 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                <Run Text="Từ:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                    </TextBlock>

                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="Nguoigui" Text="Người gửi: " FontStyle="Italic" FontWeight="Medium" FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left"/>
                            <TextBlock x:Name="Nguoigui_Binding" FontSize="14" FontWeight="Regular" Width="218" TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <MultiBinding Converter="{StaticResource TwoTextsConverter}">
                                        <Binding Path="Group_Notifications.User_Sender.Fullname" />
                                        <Binding Path="Group_Notifications.User_Sender.Username" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <TextBlock x:Name="Mota" FontSize="14" FontWeight="Regular" Margin="5 10 0 3" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                   <Run Text="Nội dung:" FontWeight="Medium" FontStyle="Italic"/>
                   <Run Text="Trưởng nhóm đã"/>
                   <Run Text="{Binding Group_Notifications.Description}" FontWeight="Black"/>
                   <Run Text="cho bạn rút"/>
                   <Run Text="{Binding Group_Notifications.Money, TargetNullValue='0 VNĐ', StringFormat='{}{0:N0} VNĐ'}" FontWeight="Medium"/>  
                   <Run Text="từ sổ tiết kiệm nhóm"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!--#endregion-->

        <!--#region Moi - yeu cau-->
        <ControlTemplate x:Key="BorderThongbao_Nhom_MoiYC" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Ten" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Muctieu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thongbao" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Kyhan" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Laisuat" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Ten" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Muctieu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thongbao" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Kyhan" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Laisuat" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa trả lời">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom}}" Value="true">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom}}" Value="true">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa trả lời">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Mời tham gia sổ tiết kiệm nhóm" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
                <Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
                <Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Name="Nguoigui" Text="Người gửi: " FontStyle="Italic" FontWeight="Medium" FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left"/>
                        <TextBlock x:Name="Nguoigui_Binding" FontSize="14" FontWeight="Regular" Width="218" TextWrapping="Wrap" Margin="0 0 0 2">
                            <TextBlock.Text>
                                <MultiBinding Converter="{StaticResource TwoTextsConverter}">
                                    <Binding Path="Group_Notifications.User_Sender.Fullname" />
                                    <Binding Path="Group_Notifications.User_Sender.Username" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                    </StackPanel>
                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <TextBlock x:Name="Thongbao" Text="Bạn được lời mời tham gia sổ tiết kiệm:" FontSize="14" FontWeight="Regular" Margin="5 0 0 0"/>
                        <TextBlock x:Name="Ten" FontSize="14" Margin="5 5 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                    <Run Text="Tên:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                        </TextBlock>
                        <TextBlock x:Name="Kyhan" FontSize="14" Margin="5 0 0 0">
                    <Run Text="Kỳ hạn:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Description, Converter={StaticResource mota_Kyhan}}" FontWeight="Regular"/>
                        </TextBlock>
                        <TextBlock x:Name="Laisuat" FontSize="14" Margin="5 0 0 0">
                    <Run Text="Lãi suất:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Description, Converter={StaticResource mota_Laisuat}}" FontWeight="Regular"/>
                        </TextBlock>
                        <TextBlock x:Name="Muctieu" FontWeight="Regular" FontSize="14" Margin="5 0 3 0">
                    <Run Text="Mục tiêu:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Target,Converter={StaticResource TargetConverter}}" FontWeight="Regular"/>
                        </TextBlock>
                        <TextBlock x:Name="Mota" FontSize="14" FontWeight="Regular" Margin="5 0 0 0" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                    <Run Text="Mô tả:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Description, Converter={StaticResource mota_Mota}}" />
                        </TextBlock>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 4 0 0">
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa trả lời">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom}}" Value="true">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Button Width="90" Content="Từ chối" Height="26" Foreground="IndianRed" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Style="{StaticResource MaterialDesignFlatLightButton}" Click="Button_Click_1"/>
                            <Button x:Name="btn_Dongy" Content="Tham gia" Style="{StaticResource MaterialDesignFlatMidBgButton}" Height="30" Width="110" FontSize="16" Background="#FFADF3A4" BorderBrush="White" BorderThickness="2" Margin="5 0 5 0" FontWeight="Regular" Click="btn_Dongy_Click">
                                <Button.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseEnter}"/>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="MouseLeave">
                                        <BeginStoryboard Storyboard="{StaticResource ButtonAnimation_MouseLeave}"/>
                                    </EventTrigger>
                                </Button.Triggers>
                            </Button>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 4 0 0" Background="Transparent">
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom_Dongy}}" Value="false">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đồng ý">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Label x:Name="tbl_daDongy" FontSize="14" FontWeight="Medium" Foreground="DarkGreen" Background="Transparent" Margin="0 0 5 0">
                                <Label.Content>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="CheckOutline" />
                                        <TextBlock Text=" Đã tham gia"/>
                                    </StackPanel>
                                </Label.Content>
                            </Label>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 4 0 0" Background="Transparent">
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status, Converter={StaticResource Xacnhan_thongbaoNhom_khongDongy}}" Value="false">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Không đồng ý">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Label x:Name="tbl_khongDongy" FontSize="14" FontWeight="Medium" Foreground="DarkRed" Background="Transparent" Margin="0 0 5 0">
                                <Label.Content>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="CloseOutline" />
                                        <TextBlock Text=" Đã từ chối tham gia"/>
                                    </StackPanel>
                                </Label.Content>
                            </Label>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!-- #endregion-->

        <!-- #region Moi - phan hoi-->
        <ControlTemplate x:Key="BorderThongbao_Nhom_MoiPH" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Trả lời lời mời tham gia nhóm" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
        <Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
        <Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <TextBlock x:Name="Tu" FontSize="14" Margin="5 0 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
        <Run Text="Từ:" FontStyle="Italic" FontWeight="Medium"/>
        <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                    </TextBlock>

                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="Nguoigui" Text="Người gửi: " FontStyle="Italic" FontWeight="Medium" FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left"/>
                            <TextBlock x:Name="Nguoigui_Binding" FontSize="14" FontWeight="Regular" Width="218" TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <MultiBinding Converter="{StaticResource TwoTextsConverter}">
                                        <Binding Path="Group_Notifications.User_Sender.Fullname" />
                                        <Binding Path="Group_Notifications.User_Sender.Username" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <TextBlock x:Name="Mota" FontSize="14" FontWeight="Regular" Margin="5 10 0 3" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
                    <Run Text="Nội dung:" FontWeight="Medium" FontStyle="Italic"/>
                    <Run Text="{Binding Group_Notifications.User_Sender.Fullname}" FontWeight="Medium"/>
                    <Run Text="đã"/>
                    <Run Text="{Binding Group_Notifications.Description}" FontWeight="Black"/>
                    <Run Text="tham gia sổ tiết kiệm nhóm"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!--#endregion-->

        <!--#region Lai-->
        <ControlTemplate x:Key="BorderThongbao_Nhom_Lai" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Sổ tiết kiệm đến ngày đáo hạn" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
        <Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
        <Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <TextBlock x:Name="Tu" FontSize="14" Margin="5 0 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
        <Run Text="Từ:" FontStyle="Italic" FontWeight="Medium"/>
        <Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                    </TextBlock>

                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <TextBlock x:Name="Mota" FontWeight="Regular" Margin="5 0 0 0" FontSize="14">
<Run Text="Số tiền nhận được:" FontStyle="Italic" FontWeight="Medium"/>
                    <Run Text="{Binding Group_Notifications.Money, StringFormat='{}{0:N0} VNĐ'}" FontWeight="Black"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!--#endregion-->

        <!--#region Thong bao xoa-->
        <ControlTemplate x:Key="BorderThongbao_Nhom_Xoa" TargetType="DataGridRow">
            <Border x:Name="bd_thongbao_Nhom" BorderThickness=".5" BorderBrush="Gray" Width="310" Padding="3" MouseEnter="bd_thongbao_Nhom_MouseEnter" MouseLeave="bd_thongbao_Nhom_MouseLeave" MouseDown="bd_thongbao_Nhom_MouseDown">
                <Border.Triggers>
                    <EventTrigger RoutedEvent="MouseEnter">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="18" To="20" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="14" To="16" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>

                    <EventTrigger RoutedEvent="MouseLeave">
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetName="header" Storyboard.TargetProperty="FontSize" From="20" To="18" Duration="0:0:0.1"/>
                                <DoubleAnimation Storyboard.TargetName="Thoigian" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Tu" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Nguoigui_Binding" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                                <DoubleAnimation Storyboard.TargetName="Mota" Storyboard.TargetProperty="FontSize" From="16" To="14" Duration="0:0:.1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Border.Triggers>

                <Border.Style>
                    <Style TargetType="Border">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                <Setter Property="Background" Value="White" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                <Setter Property="Background" Value="#F3F3F3" />
                            </DataTrigger>
                            <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="310" To="318" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Width" From="318" To="310" Duration="0:0:.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="•" FontSize="30" Margin="0 -3 0 0" Foreground="IndianRed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Chưa đọc">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Đã đọc">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                        <TextBlock x:Name="header" Text="Sổ tiết kiệm nhóm đã bị xóa" FontSize="18" Margin="5" FontWeight="Bold"/>
                    </StackPanel>
                    <TextBlock x:Name="Thoigian" FontSize="14" FontWeight="Regular" Margin="5 0 0 0">
<Run Text="Thời gian:" FontStyle="Italic" FontWeight="Medium"/>
<Run Text="{Binding Group_Notifications.Notification_Date}"/>
                    </TextBlock>
                    <TextBlock x:Name="Tu" FontSize="14" Margin="5 0 0 0" FontWeight="Regular" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
<Run Text="Từ:" FontStyle="Italic" FontWeight="Medium"/>
<Run Text="{Binding Group_Notifications.Group_Savings_Accounts.Name}"/>
                    </TextBlock>

                    <TextBlock x:Name="Xemchitiet" Text="Xem thêm »" Visibility="Collapsed" FontWeight="Regular" Margin="0 -3 5 2" FontSize="13" HorizontalAlignment="Right" Foreground="DarkBlue" MouseLeftButtonDown="Xemchitiet_MouseLeftButtonDown">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextDecorations" Value="Underline"/>
                                        <Setter Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <StackPanel x:Name="stp_noidung" Orientation="Vertical" Margin="0 5 0 0" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="Nguoigui" Text="Người gửi: " FontStyle="Italic" FontWeight="Medium" FontSize="14" Margin="5 0 0 0" HorizontalAlignment="Left"/>
                            <TextBlock x:Name="Nguoigui_Binding" FontSize="14" FontWeight="Regular" Width="218" TextWrapping="Wrap">
                                <TextBlock.Text>
                                    <MultiBinding Converter="{StaticResource TwoTextsConverter}">
                                        <Binding Path="Group_Notifications.User_Sender.Fullname" />
                                        <Binding Path="Group_Notifications.Username_Sender" />
                                    </MultiBinding>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>

                        <TextBlock x:Name="Mota" FontSize="14" FontWeight="Regular" Margin="5 5 0 0" TextWrapping="Wrap" Width="295" HorizontalAlignment="Left">
    <Run Text="Ghi chú:" FontStyle="Italic" FontWeight="Medium"/>
    <Run Text="{Binding Group_Notifications.Description}" />
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ControlTemplate>
        <!--  #endregion -->
        
        <Style TargetType="DataGridRow" x:Key="dataGrid_thongbao_Nhom">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="Nạp">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_Nap}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="Rút">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_Rut}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="RútYC">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_RutYC}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="RútPH">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_RutPH}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="MờiYC">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_MoiYC}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="MờiPH">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_MoiPH}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="Lãi">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_Lai}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Group_Notifications.Type}" Value="Xóa">
                    <Setter Property="Template" Value="{StaticResource BorderThongbao_Nhom_Xoa}"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <!-- #endregion-->

    </UserControl.Resources>

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="113*"/>
            <RowDefinition Height="412*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Background="#fbf9f8" Margin="0,-5,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="152*"/>
                <ColumnDefinition Width="940*"/>
                <ColumnDefinition Width="350*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0">
                <StackPanel Margin="10 0 0 0">
                    <Image Source="\photo\Logo.png" Grid.Column="0" Width="120" Height="120" HorizontalAlignment="Left" Margin="10 0 0 0" DockPanel.Dock="Left"/>
                    <Button Height="30" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" FontSize="20" Background="#fbf9f8" BorderBrush="Transparent" VerticalAlignment="Bottom" Margin="5 10 5 5" x:Name="btn_Lammoi" MouseEnter="btn_Lammoi_MouseEnter" Click="btn_Lammoi_Click" materialDesign:ElevationAssist.Elevation="Dp0" materialDesign:RippleAssist.IsDisabled="True" MouseLeave="btn_Lammoi_MouseLeave">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon x:Name="icon" Kind="Autorenew" Width="25" Height="25" Margin="0 0 5 0">
                                    <materialDesign:PackIcon.RenderTransform>
                                        <RotateTransform x:Name="Xoay"/>
                                    </materialDesign:PackIcon.RenderTransform>
                                </materialDesign:PackIcon>
                                <TextBlock Text="Làm mới" x:Name="lammoi"/>
                            </StackPanel>
                        </Button.Content>
                    </Button>
                </StackPanel>
            </Grid>

            <StackPanel Grid.Column="1">
                <Label HorizontalContentAlignment="Center" FontSize="45" FontWeight="Black" Margin="0 5 0 0" FontFamily="Segoe UI Black">
                    <Label.Content>
                        <TextBlock>
                            <Run Text="PHẦN MỀM QUẢN LÝ SỔ TIẾT KIỆM"/>
                            <Run Text="Fin" Foreground="#a2c243" FontSize="50"/><Run Text="Save" Foreground="#1a3820" FontSize="50"/>
                        </TextBlock>
                    </Label.Content>
                </Label>
                <Label FontSize="20" FontWeight="Medium" HorizontalContentAlignment="Center" Margin="0 -8 0 0">
                    <Label.Content>
                        <TextBlock>
                            <Run Text="{Binding dt, Converter={StaticResource Chao}}" FontSize="15"/>
                            <Run Text="{Binding User.Fullname}" FontSize="25"/>
                        </TextBlock>
                    </Label.Content>
                </Label>
                <Grid>
                    <StackPanel Margin="0 -10 0 0">
                        <Label x:Name="Thangnam" Foreground="Black" Height="25" HorizontalAlignment="Center" FontWeight="Regular" Margin="0 0 0 -2"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Grid.Row="0">
                            <Button Margin="0" Click="PrevWeek_Click" BorderBrush="Transparent" BorderThickness="0" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Background="Transparent" Foreground="Black">
                                <Button.Content>
                                    <materialDesign:PackIcon Kind="ArrowLeftDropCircleOutline" Width="30" Margin="0 -3 0 0" Height="30"/>
                                </Button.Content>
                            </Button>

                            <UniformGrid Name="WeekGrid" Grid.Row="1" Columns="7" Width="600" Height="50">
                                <Border Name="bd_MonText" Background="#BFF9D2" Style="{StaticResource DayBorderStyle}">
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Enter}"/>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Leave}"/>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <Grid Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Name="tbl_MonText" FontWeight="Medium" FontSize="14"/>
                                        <materialDesign:PackIcon Kind="CircleSmall" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 22 0 0" Width="20" Height="20" x:Name="Mon" Visibility="Collapsed" Foreground="Red"/>
                                    </Grid>
                                </Border>
                                <Border Style="{StaticResource DayBorderStyle}" Name="bd_TueText" Background="#BFF9D2">
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Enter}"/>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Leave}"/>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <Grid Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Name="tbl_TueText" FontWeight="Medium" FontSize="14"/>
                                        <materialDesign:PackIcon Kind="CircleSmall" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 22 0 0" Width="20" Height="20" x:Name="Tue" Visibility="Collapsed" Foreground="Red"/>
                                    </Grid>
                                </Border>
                                <Border Style="{StaticResource DayBorderStyle}" Name="bd_WedText" Background="#BFF9D2">
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Enter}"/>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Leave}"/>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <Grid Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Name="tbl_WedText" FontWeight="Medium" FontSize="14"/>
                                        <materialDesign:PackIcon Kind="CircleSmall" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 22 0 0" Width="20" Height="20" x:Name="Wed" Visibility="Collapsed" Foreground="Red"/>
                                    </Grid>
                                </Border>
                                <Border Style="{StaticResource DayBorderStyle}" Name="bd_ThuText" Background="#BFF9D2">
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Enter}"/>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Leave}"/>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <Grid Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Name="tbl_ThuText" FontWeight="Medium" FontSize="14"/>
                                        <materialDesign:PackIcon Kind="CircleSmall" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 22 0 0" Width="20" Height="20" x:Name="Thu" Visibility="Collapsed" Foreground="Red"/>
                                    </Grid>
                                </Border>
                                <Border Style="{StaticResource DayBorderStyle}" Name="bd_FriText" Background="#BFF9D2">
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Enter}"/>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Leave}"/>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <Grid Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Name="tbl_FriText" FontWeight="Medium" FontSize="14"/>
                                        <materialDesign:PackIcon Kind="CircleSmall" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 22 0 0" Width="20" Height="20" x:Name="Fri" Visibility="Collapsed" Foreground="Red"/>
                                    </Grid>
                                </Border>
                                <Border Style="{StaticResource DayBorderStyle}" Name="bd_SatText" Background="#BFF9D2">
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Enter}"/>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Leave}"/>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <Grid Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Name="tbl_SatText" FontWeight="Medium" FontSize="14"/>
                                        <materialDesign:PackIcon Kind="CircleSmall" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 22 0 0" Width="20" Height="20" x:Name="Sat" Visibility="Collapsed" Foreground="Red"/>
                                    </Grid>
                                </Border>
                                <Border Style="{StaticResource DayBorderStyle}" Name="bd_SunText" Background="#BFF9D2">
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Enter}"/>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard Storyboard="{StaticResource BorderLich_Leave}"/>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <Grid Width="50" Height="50" VerticalAlignment="Center" HorizontalAlignment="Center">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Name="tbl_SunText" FontWeight="Medium" FontSize="14"/>
                                        <materialDesign:PackIcon Kind="CircleSmall" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0 22 0 0" Width="20" Height="20" x:Name="Sun" Visibility="Collapsed" Foreground="Red"/>
                                    </Grid>
                                </Border>
                            </UniformGrid>

                            <Button Margin="5" Click="NextWeek_Click" BorderBrush="Transparent" Background="Transparent">
                                <Button.Content>
                                    <materialDesign:PackIcon Kind="ArrowRightDropCircleOutline" Width="30" Margin="0 -3 0 0" Height="30"/>
                                </Button.Content>
                            </Button>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </StackPanel>

            <StackPanel Grid.Column="2">
                <StackPanel Orientation="Vertical">
                <StackPanel Orientation="Horizontal">
                    <Border BorderBrush="#00003f" CornerRadius="10" BorderThickness="2" Width="160" Height="70" Margin="10 40 0 0">
                        <StackPanel>
                            <Label HorizontalContentAlignment="Center" FontSize="35" VerticalAlignment="Center" FontWeight="Black" Margin="0 -6 0 0">
                                <TextBlock Text="{Binding dt, StringFormat='{}{0:HH:mm:ss}'}"/>
                            </Label>
                            <Label Content="     giờ             phút           giây" VerticalContentAlignment="Top" Margin="0 -17 0 0" FontSize="11"/>
                            <Label Content="Giờ Việt Nam        UTC +7" Margin="0 -5 0 0" HorizontalAlignment="Center" FontWeight="Medium"/>
                        </StackPanel>
                    </Border>


                    <Grid Margin="0, 12, 0, 0" Grid.Column="2" Width="200" Height="160" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <!-- StackPanel chứa các thành phần -->
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Vertical">
                            <!-- Ảnh đại diện -->
                            <Border Background="White" Width="120" Height="120" CornerRadius="60" Margin="0,5,0,10">
                                <Image Cursor="Hand" MouseLeftButtonDown="Image_MouseLeftButtonDown" Stretch="Uniform" Source="{Binding User.Avatar}">
                                    <Image.Clip>
                                        <EllipseGeometry Center="60,60" RadiusX="60" RadiusY="60" />
                                    </Image.Clip>
                                </Image>
                            </Border>

                           
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </StackPanel>
                <!-- Hàng hiển thị số dư -->
                <StackPanel Orientation="Horizontal" Width="Auto" HorizontalAlignment="Right" Margin="0, -15, 10, 5">
                    <TextBlock Text="Số dư:" FontSize="18" FontWeight="Medium" Foreground="Gray" Margin="0,0,7,0" />
                    <TextBlock Text="{Binding User.Money, StringFormat='{}{0:N0} VNĐ'}" 
FontSize="18" FontWeight="Bold" Foreground="Black" />
                </StackPanel>
            </StackPanel>
        </Grid>

        <Grid Grid.Row="1">
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,2" EndPoint="1,1">
                    <GradientStop Offset="0.1" Color="#00796B"/>
                    <GradientStop Offset="6" Color="#48A999"/>
                </LinearGradientBrush>
            </Grid.Background>
            <Border Margin="0 0 0 0" Grid.Row="1">
                <TabControl HorizontalContentAlignment="Left" Margin="-1">
                    <!--#region Tab ca nhan-->
                    <TabItem x:Name="tabitem_Canhan" Header="Sổ tiết kiệm cá nhân" FontSize="18" Width="200" HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="bd_Canhan" CornerRadius="0 20 0 0" Background="White" RenderTransformOrigin="0,0" Width="1195" Margin="0 -1 0 0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon VerticalAlignment="Center" Height="40" Width="30" Margin="50,20,5,0" Kind="Magnify" Background="Transparent" Panel.ZIndex="0"/>
                                        <TextBox TextChanged="tb_Timkiem_Canhan_TextChanged" FontWeight="Regular" VerticalContentAlignment="Bottom" x:Name="tb_Timkiem_Canhan" Height="50" Margin="0,5,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="18" materialDesign:HintAssist.Hint="Tìm kiếm" Focusable="False" MouseDown="tb_Timkiem_Canhan_MouseDown" KeyDown="tb_Timkiem_Canhan_KeyDown" Width="930">
                                        </TextBox>
                                        <Button x:Name="btn_Taoso_Canhan" Click="btn_Taoso_Canhan_Click" BorderBrush="DarkGreen" BorderThickness="1" Content="+  Tạo sổ tiết kiệm" VerticalAlignment="Bottom" Margin="10 0 0 0" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Style="{StaticResource MaterialDesignFlatButton}">
                                        </Button>
                                    </StackPanel>
                                    
                                    <StackPanel>
                                        <TextBlock Text="Bạn hiện không có sổ tiết kiệm nào." 
               HorizontalAlignment="Center" 
               Margin="50"
               FontWeight="Bold"
               Foreground="Black"
               FontSize="18">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <!-- Hiển thị khi không có sổ tiết kiệm nào -->
                                                        <DataTrigger Binding="{Binding IsEmptyAccount}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>


                                        <TextBlock Text="Không tìm thấy sổ tiết kiệm."
               HorizontalAlignment="Center"
               Margin="50"
               FontWeight="Bold"
               Foreground="Black"
               FontSize="18">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <!-- Hiển thị khi không có kết quả tìm kiếm -->
                                                        <DataTrigger Binding="{Binding NoSavingsFound}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>


                                        <DataGrid x:Name="DataSTKCanhan"
              Background="Transparent"
              HorizontalAlignment="Left"
              Height="490"
              Margin="50 10 50 0"
              ItemsSource="{Binding Personal_Savings_Accounts}"
              CanUserAddRows="False"
              AutoGenerateColumns="False"
              RowStyle="{StaticResource ExpandableDataGridRow_Canhan}"
              HeadersVisibility="None"
              ScrollViewer.CanContentScroll="False"
              BorderBrush="Transparent"
              BorderThickness="0"
              VerticalScrollBarVisibility="Auto"
              HorizontalScrollBarVisibility="Hidden">
                                            <DataGrid.Style>
                                                <Style TargetType="DataGrid">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Personal_Savings_Accounts.Count}" Value="0">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGrid.Style>
                                        </DataGrid>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                            <Border x:Name="bd_thongbao_Canhan" Width="340" Background="Transparent">
                                <StackPanel HorizontalAlignment="Right">
                                    <Border CornerRadius="10 0 0 10" Background="White" Width="335" HorizontalAlignment="Right">
                                        <Grid>
                                            <StackPanel Orientation="Horizontal" Margin="5 0 0 0">
                                                <materialDesign:Badged Badge="{Binding CNT_ThongBao_ChuaDoc_CaNhan}" Margin="10 10 0 0">
                                                    <materialDesign:Badged.Style>
                                                        <Style TargetType="materialDesign:Badged">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_CaNhan, Converter={StaticResource SoluongConverter_Lonhon0}}"  Value="true">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_CaNhan, Converter={StaticResource SoluongConverter_Lonhon0}}"  Value="false">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </materialDesign:Badged.Style>
                                                    <materialDesign:PackIcon Kind="Bell" Width="25" Height="25"/>
                                                </materialDesign:Badged>
                                                <materialDesign:PackIcon Kind="Bell" Width="25" Height="25" Margin="10 10 0 0">
                                                    <materialDesign:PackIcon.Style>
                                                        <Style TargetType="materialDesign:PackIcon">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_CaNhan, Converter={StaticResource SoluongConverter_Lonhon0}}"  Value="false">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_CaNhan, Converter={StaticResource SoluongConverter_Lonhon0}}"  Value="true">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </materialDesign:PackIcon.Style>
                                                </materialDesign:PackIcon>
                                                <TextBlock Text="Thông báo" FontSize="30" FontWeight="Bold" Margin="15 5 0 0" Background="Transparent"/>

                                            </StackPanel>
                                            <Button Visibility="Collapsed" x:Name="btn_Xoa_Canhan" HorizontalAlignment="Right" Foreground="Black" Margin="0 0 10 0" Width="90" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Style="{StaticResource MaterialDesignFlatButton}" Click="btn_Xoa_Click">
                                                <Button.Content>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="Xóa" FontSize="16"/>
                                                        <materialDesign:PackIcon Kind="Delete" Margin="5 0 -5 0" Width="20" Height="20"/>
                                                    </StackPanel>
                                                </Button.Content>
                                            </Button>
                                        </Grid>
                                    </Border>
                                    <Border x:Name="bd_chuadtgrid_Canhan" Height="530" HorizontalAlignment="Center" Margin="0 5 0 0" Background="Transparent" Width="350">
                                        <StackPanel>
                                            <StackPanel Visibility="{Binding Personal_Notifications, Converter={StaticResource EmptyCollectionToVisibilityConverter}}"  HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
                                                <!-- Emoji -->
                                                <TextBlock Text="📭" FontSize="50" Foreground="White" Margin="0,0,0,15" HorizontalAlignment="Center" />
                                                <!-- Text -->
                                                <TextBlock x:Name="NoNotificationsText" 
               Text="Không có thông báo" 
               FontSize="18"                             
             Foreground="White"
               FontWeight="Bold" 
               HorizontalAlignment="Center"/>
                                            </StackPanel>

                                            <!-- DataGrid hiển thị khi có thông báo -->
                                            <DataGrid Background="Transparent" HorizontalAlignment="Center" MaxHeight="512" Width="335" Margin="5 5 -1 0" 
              RowStyle="{StaticResource dataGrid_thongbao}" ScrollViewer.VerticalScrollBarVisibility="Visible" 
              CanUserResizeRows="True" ItemsSource="{Binding Personal_Notifications}" CanUserAddRows="False" 
              AutoGenerateColumns="False" HeadersVisibility="None" ScrollViewer.CanContentScroll="False" 
              VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Hidden" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>
                    <!--#endregion-->

                    <!--#region Tab nhom-->
                    <TabItem Header="Sổ tiết kiệm nhóm" FontSize="18" HorizontalAlignment="Left" Width="200">
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="bd_Nhom" CornerRadius="0 20 0 0" Background="White" Width="1195" Margin="0 -1 0 0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon VerticalAlignment="Center" Height="40" Width="30" Margin="50,20,5,0" Kind="Magnify" Background="Transparent" Panel.ZIndex="0"/>
                                        <TextBox x:Name="tb_Timkiem_Nhom" FontWeight="Regular" TextChanged="tb_Timkiem_Nhom_TextChanged" Height="50" VerticalContentAlignment="Bottom" Margin="0,5,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="18" materialDesign:HintAssist.Hint="Tìm kiếm" Focusable="False" MouseDown="tb_Timkiem_Canhan_MouseDown" KeyDown="tb_Timkiem_Canhan_KeyDown" Width="930">
                                        </TextBox>
                                        <Button x:Name="btn_Taoso_Nhom" Click="btn_Taoso_Nhom_Click" BorderBrush="DarkGreen" BorderThickness="1" Content="+  Tạo sổ tiết kiệm" VerticalAlignment="Bottom" Margin="10 0 0 0" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Style="{StaticResource MaterialDesignFlatButton}">
                                        </Button>
                                    </StackPanel>


                                    <StackPanel>
                                        <TextBlock Text="Bạn hiện không có sổ tiết kiệm nào." 
                                         HorizontalAlignment="Center" 
                                         Margin="50"
                                         FontWeight="Bold"
                                         Foreground="Black"
                                         FontSize="18">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <!-- Hiển thị khi không có sổ tiết kiệm nào -->
                                                        <DataTrigger Binding="{Binding IsEmptyAccountNhom}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>


                                        <TextBlock Text="Không tìm thấy sổ tiết kiệm."
 HorizontalAlignment="Center"
 Margin="50"
 FontWeight="Bold"
 Foreground="Black"
 FontSize="18">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <!-- Hiển thị khi không có kết quả tìm kiếm -->
                                                        <DataTrigger Binding="{Binding NoSavingsFoundNhom}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>


                                        <DataGrid x:Name="DataSTKNhom"
Background="Transparent"
HorizontalAlignment="Left"
Height="490"
Margin="50 10 50 0"
ItemsSource="{Binding Group_Savings_Accounts}"
CanUserAddRows="False"
AutoGenerateColumns="False"
RowStyle="{StaticResource ExpandableDataGridRow_Nhom}"
HeadersVisibility="None"
ScrollViewer.CanContentScroll="False"
BorderBrush="Transparent"
BorderThickness="0"
VerticalScrollBarVisibility="Auto"
HorizontalScrollBarVisibility="Hidden">
                                            <DataGrid.Style>
                                                <Style TargetType="DataGrid">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Group_Savings_Accounts.Count}" Value="0">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGrid.Style>
                                        </DataGrid>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                            <Border x:Name="bd_thongbao_Nhom" Width="340" Background="Transparent">
                                <StackPanel HorizontalAlignment="Right">
                                    <Border CornerRadius="10 0 0 10" Background="White" Width="335" HorizontalAlignment="Right">
                                        <Grid>
                                            <StackPanel Orientation="Horizontal" Margin="5 0 0 0">
                                                <materialDesign:Badged Badge="{Binding CNT_ThongBao_ChuaDoc_Nhom}" Margin="10 10 0 0">
                                                    <materialDesign:Badged.Style>
                                                        <Style TargetType="materialDesign:Badged">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_Nhom, Converter={StaticResource SoluongConverter_Lonhon0}}"  Value="true">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_Nhom, Converter={StaticResource SoluongConverter_Lonhon0}}"  Value="false">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </materialDesign:Badged.Style>
                                                    <materialDesign:PackIcon Kind="Bell" Width="25" Height="25"/>
                                                </materialDesign:Badged>
                                                <materialDesign:PackIcon Kind="Bell" Width="25" Height="25" Margin="10 10 0 0">
                                                    <materialDesign:PackIcon.Style>
                                                        <Style TargetType="materialDesign:PackIcon">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_Nhom, Converter={StaticResource SoluongConverter_Lonhon0}}" Value="false">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding CNT_ThongBao_ChuaDoc_Nhom, Converter={StaticResource SoluongConverter_Lonhon0}}"  Value="true">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </materialDesign:PackIcon.Style>
                                                </materialDesign:PackIcon>
                                                <TextBlock Text="Thông báo" FontSize="30" FontWeight="Bold" Margin="15 5 0 0" Background="Transparent"/>
                                            </StackPanel>

                                            <Button Visibility="Collapsed" x:Name="btn_Xoa_Nhom" HorizontalAlignment="Right" Foreground="Black" Margin="0 0 10 0" Width="90" IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" Style="{StaticResource MaterialDesignFlatButton}" Click="btn_Xoa_Nhom_Click">
                                                <Button.Content>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="Xóa" FontSize="16"/>
                                                        <materialDesign:PackIcon Kind="Delete" Margin="5 0 -5 0" Width="20" Height="20"/>
                                                    </StackPanel>
                                                </Button.Content>
                                            </Button>
                                        </Grid>
                                    </Border>
                                    <Border x:Name="bd_chuadtgrid_Nhom" Height="530" HorizontalAlignment="Center" Margin="0 5 0 0" Background="Transparent" Width="350">
                                        <StackPanel>
                                            <StackPanel Visibility="{Binding Group_Notifications_Details, Converter={StaticResource EmptyCollectionToVisibilityConverter}}" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
                                                <!-- Emoji -->
                                                <TextBlock Text="📭" Foreground="White" FontSize="50" Margin="0,0,0,15" HorizontalAlignment="Center" />
                                                <!-- Text -->
                                                <TextBlock x:Name="NoNotificationText1" 
  Text="Không có thông báo" 
  FontSize="18"                             
Foreground="White"
  FontWeight="Bold" 
  HorizontalAlignment="Center" />
                                            </StackPanel>

                                            <!-- DataGrid hiển thị khi có thông báo -->
                                            <DataGrid Background="Transparent" HorizontalAlignment="Center" MaxHeight="512" Width="335" Margin="5 5 -1 0" 
 RowStyle="{StaticResource dataGrid_thongbao_Nhom}" ScrollViewer.VerticalScrollBarVisibility="Visible" 
 CanUserResizeRows="True" ItemsSource="{Binding Group_Notifications_Details}" CanUserAddRows="False" 
 AutoGenerateColumns="False" HeadersVisibility="None" ScrollViewer.CanContentScroll="False" 
 VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Hidden" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>
                    <!--#endregion-->
                </TabControl>
            </Border>
        </Grid>
    </Grid>
</UserControl>
